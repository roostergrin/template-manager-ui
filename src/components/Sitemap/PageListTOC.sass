// Table-like layout with fixed column widths
.page-list-toc__item
  background: #ffffff
  margin-bottom: 1px
  border-bottom: 1px solid #f1f5f9

// Allocated content section
.page-list-toc__allocated-content
  border-top: 1px solid #e2e8f0
  background: #fafbfc

.page-list-toc__allocated-header
  display: flex
  align-items: center
  padding: 0.75rem 1rem
  cursor: pointer
  transition: background-color 0.15s ease

  &:hover
    background: #f1f5f9

.page-list-toc__allocated-toggle
  margin-right: 0.5rem
  font-size: 0.85rem
  color: #64748b

.page-list-toc__allocated-label
  font-weight: 500
  font-size: 0.95rem
  color: #334155

.page-list-toc__markdown-preview
  padding: 0 1rem 1rem 1rem

.page-list-toc__row
  display: grid
  align-items: flex-start
  gap: 8px
  padding: 6px 12px
  transition: background-color 0.15s ease

  &:hover
    background: #f8fafc

  &--header
    grid-template-columns: 42px 1fr 1fr 130px
    font-weight: 600
    align-items: center

  &--section
    grid-template-columns: 60px 1fr 140px 80px
    padding-left: 36px

// Column definitions
.page-list-toc__col
  display: flex
  align-items: center

  &--controls
    gap: 4px
    justify-content: flex-start

  &--type
    position: relative

  &--content
    flex: 1
    min-width: 0
    display: flex
    align-items: flex-start
    gap: 8px

  &--actions
    gap: 6px
    justify-content: flex-end

  &--source
    justify-content: flex-start

  &--words
    justify-content: center

  &--images
    justify-content: center

  &--confidence
    justify-content: center

  &--allocated-group
    justify-content: flex-start
    min-width: 0

  &--clickable
    cursor: pointer
    transition: background-color 0.15s ease
    border-radius: 4px
    padding: 4px 6px
    margin: -4px -6px

    &:hover
      background: #f1f5f9

.page-list-toc__allocated-group-inner
  display: flex
  align-items: center
  gap: 0.75rem
  width: 100%

// Controls column elements
.page-list-toc__chevron
  cursor: pointer
  background: transparent
  border: none
  font-size: 10px
  color: #94a3b8
  padding: 4px
  line-height: 1
  width: 18px
  text-align: center
  transition: color 0.15s ease
  flex-shrink: 0

  &:hover
    color: #64748b

.page-list-toc__markdown-toggle
  cursor: pointer
  background: transparent
  border: none
  font-size: 9px
  color: #94a3b8
  padding: 2px
  line-height: 1
  width: 16px
  text-align: center
  transition: color 0.15s ease
  flex-shrink: 0
  margin-right: 4px

  &:hover
    color: #64748b

.page-list-toc__drag-handle
  cursor: grab
  background: transparent
  border: none
  font-size: 14px
  color: #94a3b8
  padding: 4px
  line-height: 1
  letter-spacing: -2px
  flex-shrink: 0
  opacity: 1

  &:active
    cursor: grabbing
    color: #64748b

  &:hover
    color: #64748b
    background: #f1f5f9
    border-radius: 3px

// Type column - Google Sheets style inline dropdown
.page-list-toc__type-cell
  position: relative
  width: 100%

.page-list-toc__type-select
  background: transparent
  border: 1px solid transparent
  border-radius: 4px
  padding: 4px 8px
  font-size: 11px
  font-weight: 600
  color: #64748b
  cursor: pointer
  transition: all 0.15s ease
  white-space: nowrap
  width: 100%
  text-align: left

  &:hover
    background: #f1f5f9
    border-color: #e2e8f0

  &:focus
    outline: none
    background: #f1f5f9
    border-color: #3b82f6

// Numbering
.page-list-toc__number
  font-family: 'Monaco', 'Menlo', monospace
  font-size: 13px
  color: #94a3b8
  font-weight: 600
  min-width: 24px
  flex-shrink: 0
  padding-top: 6px

.page-list-toc__section-number
  font-family: 'Monaco', 'Menlo', monospace
  font-size: 12px
  color: #cbd5e1
  font-weight: 600
  min-width: 36px
  flex-shrink: 0
  padding-top: 5px

// Content column
.page-list-toc__title-input
  flex: 1
  border: none
  background: transparent
  padding: 6px 8px
  font-size: 15px
  font-weight: 600
  color: #0f172a
  border-radius: 3px
  min-width: 0

  &:hover
    background: #f8fafc

  &:focus
    outline: none
    background: #f1f5f9
    border: 1px solid #e2e8f0

.page-list-toc__page-id-input
  width: 80px
  flex-shrink: 0
  border: 1px solid #e2e8f0
  background: #fafafa
  padding: 4px 8px
  font-size: 12px
  font-weight: 500
  color: #64748b
  border-radius: 3px
  font-family: 'Monaco', 'Menlo', monospace
  text-align: center

  &::placeholder
    color: #cbd5e1
    font-size: 11px

  &:hover
    background: #f8fafc
    border-color: #cbd5e1

  &:focus
    outline: none
    background: #ffffff
    border-color: #3b82f6
    color: #0f172a

.page-list-toc__section-description
  font-size: 14px
  line-height: 1.5
  color: #1e293b
  margin: 0
  font-weight: 500
  width: 100%
  padding: 4px 8px
  border: none
  background: transparent
  border-radius: 3px
  resize: none
  overflow: hidden
  min-height: 28px
  font-family: inherit

  &:hover
    background: #f8fafc

  &:focus
    outline: none
    background: #f1f5f9
    border: 1px solid #e2e8f0
    overflow: auto

// Actions column
.page-list-toc__count
  font-size: 11px
  color: #94a3b8
  background: #f1f5f9
  padding: 2px 6px
  border-radius: 3px
  font-weight: 500
  min-width: 20px
  text-align: center

.page-list-toc__delete
  background: transparent
  border: none
  color: #cbd5e1
  font-size: 18px
  cursor: pointer
  padding: 2px 4px
  line-height: 1
  border-radius: 3px
  transition: all 0.15s ease
  opacity: 0

  .page-list-toc__row:hover &
    opacity: 1

  &:hover
    color: #ef4444

// Section-specific delete button
.page-list-toc__section-delete
  background: transparent
  border: none
  color: #cbd5e1
  font-size: 16px
  cursor: pointer
  padding: 2px 4px
  line-height: 1
  border-radius: 3px
  transition: all 0.15s ease
  opacity: 0

  .page-list-toc__row:hover &
    opacity: 1

  &:hover
    color: #ef4444

// Section drag handle
.page-list-toc__section-drag-handle
  cursor: grab
  background: transparent
  border: none
  font-size: 12px
  color: #cbd5e1
  padding: 4px
  line-height: 1
  letter-spacing: -2px
  flex-shrink: 0
  opacity: 0.5

  .page-list-toc__row:hover &
    opacity: 1
    color: #94a3b8

  &:active
    cursor: grabbing
    color: #64748b

  &:hover
    color: #64748b !important
    background: #f1f5f9
    border-radius: 3px

// Lock toggle - filled/unfilled circle
.page-list-toc__lock-toggle
  background: transparent
  border: none
  font-size: 12px
  cursor: pointer
  padding: 4px
  line-height: 1
  border-radius: 3px
  transition: all 0.15s ease
  opacity: 0.4
  color: #94a3b8

  &:hover
    opacity: 1
    transform: scale(1.2)
    color: #64748b

  &--active
    opacity: 1
    color: #3b82f6

// Dropdown - Google Sheets style
.page-list-toc__dropdown
  position: absolute
  top: 100%
  left: 0
  margin-top: 2px
  background: white
  border: 1px solid #cbd5e1
  border-radius: 4px
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15), 0 0 0 1px rgba(0, 0, 0, 0.05)
  max-height: 240px
  overflow-y: auto
  z-index: 1000
  min-width: 200px

.page-list-toc__dropdown-item
  display: block
  width: 100%
  text-align: left
  background: transparent
  border: none
  padding: 8px 12px
  font-size: 13px
  color: #1e293b
  cursor: pointer
  transition: background-color 0.1s ease
  font-weight: 500

  &:hover
    background: #f1f5f9

  &--active
    background: #e0e7ff
    color: #4338ca
    font-weight: 600

    &:hover
      background: #c7d2fe

// Duplicate button
.page-list-toc__duplicate
  background: transparent
  border: none
  color: #cbd5e1
  font-size: 14px
  cursor: pointer
  padding: 2px 4px
  line-height: 1
  border-radius: 3px
  transition: all 0.15s ease
  opacity: 0

  .page-list-toc__row:hover &
    opacity: 1

  &:hover
    color: #3b82f6
    background: #eff6ff

// Add section button
.page-list-toc__add-section
  display: block
  padding: 8px 12px
  padding-left: 108px
  margin: 0
  background: transparent
  border: none
  border-top: 1px dashed #e2e8f0
  border-radius: 0
  color: #94a3b8
  font-size: 13px
  font-weight: 500
  cursor: pointer
  transition: all 0.15s ease
  width: 100%
  text-align: left
  opacity: 0.3

  &:hover
    background: #f8fafc
    color: #64748b
    opacity: 1

// Add page button
.page-list-toc__add-page
  display: block
  padding: 8px 12px 8px 72px
  margin: 4px 0 0 0
  background: transparent
  border: none
  border-top: 1px dashed #e2e8f0
  border-radius: 0
  color: #94a3b8
  font-size: 13px
  font-weight: 500
  cursor: pointer
  transition: all 0.15s ease
  width: 100%
  text-align: left
  opacity: 0.3

  &:hover
    background: #f8fafc
    color: #64748b
    opacity: 1

.page-list-toc__sections
  // No extra padding needed with grid layout

// Allocated stats section
.page-list-toc__allocated-stats
  display: flex
  align-items: center
  gap: 0.75rem
  font-size: 0.85rem
  color: #6b7280

.page-list-toc__allocated-source
  font-weight: 500
  color: #374151
  font-size: 0.85rem

.page-list-toc__allocated-stat
  display: flex
  align-items: center
  gap: 0.25rem
  color: #6b7280
  font-size: 0.85rem

.page-list-toc__confidence-badge
  display: inline-flex
  align-items: center
  gap: 0.25rem
  padding: 0.25rem 0.5rem
  border-radius: 9999px
  font-size: 0.7rem
  font-weight: 600
  border-width: 1px
  border-style: solid

  &--green
    background-color: #d1fae5
    color: #065f46
    border-color: #a7f3d0

  &--orange
    background-color: #fed7aa
    color: #92400e
    border-color: #fcd34d

  &--red
    background-color: #fee2e2
    color: #991b1b
    border-color: #fecaca

// Use Template button
.page-list-toc__use-template
  background: transparent
  border: none
  color: #cbd5e1
  cursor: pointer
  padding: 4px
  line-height: 1
  border-radius: 3px
  transition: all 0.15s ease
  opacity: 0
  display: flex
  align-items: center
  justify-content: center

  .page-list-toc__row:hover &
    opacity: 1

  &:hover
    color: #8b5cf6
    background: #f5f3ff

// Generate Page button
.page-list-toc__generate-page
  background: transparent
  border: none
  color: #cbd5e1
  cursor: pointer
  padding: 4px
  line-height: 1
  border-radius: 3px
  transition: all 0.15s ease
  opacity: 0
  display: flex
  align-items: center
  justify-content: center

  .page-list-toc__row:hover &
    opacity: 1

  &:hover:not(:disabled)
    color: #f59e0b
    background: #fffbeb

  &:disabled
    cursor: not-allowed
    opacity: 0.5

// Error message
.page-list-toc__error-message
  display: flex
  align-items: center
  gap: 0.5rem
  padding: 0.75rem 1rem
  background: #fee2e2
  border: 1px solid #fecaca
  border-radius: 4px
  color: #991b1b
  font-size: 0.875rem
  margin: 0.5rem 0

.page-list-toc__error-icon
  flex-shrink: 0
  font-size: 1rem

.page-list-toc__error-close
  margin-left: auto
  background: transparent
  border: none
  color: #991b1b
  font-size: 1.25rem
  cursor: pointer
  padding: 0
  width: 1.5rem
  height: 1.5rem
  display: flex
  align-items: center
  justify-content: center
  border-radius: 3px
  transition: background-color 0.15s ease

  &:hover
    background: #fecaca

// Child page (hierarchy) styles
.page-list-toc__item--child
  background: #f8fafc
  border-left: 3px solid #e2e8f0

  &:hover
    border-left-color: #94a3b8

  // Depth-based visual hierarchy
  &.page-list-toc__item--depth-1
    border-left-color: #93c5fd

  &.page-list-toc__item--depth-2
    border-left-color: #a5b4fc

  &.page-list-toc__item--depth-3
    border-left-color: #c4b5fd

.page-list-toc__hierarchy-indicator
  display: flex
  align-items: center
  justify-content: center
  color: #94a3b8
  flex-shrink: 0
  margin-right: 2px

.page-list-toc__slug
  font-family: 'Monaco', 'Menlo', monospace
  font-size: 11px
  color: #64748b
  background: #f1f5f9
  padding: 2px 6px
  border-radius: 3px
  flex-shrink: 0
  max-width: 180px
  overflow: hidden
  text-overflow: ellipsis
  white-space: nowrap
